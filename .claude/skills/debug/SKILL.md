---
name: debug
description: バグの根本原因を特定し、修正方針を立てます。エラー、予期しない動作、クラッシュ、スタックトレースの調査を依頼されたときに使用
---

# debug

問題の根本原因を特定し、最小限の修正で解決する。

## ワークフロー

### 1. 問題の明確化

```markdown
## 症状
- 何が起きているか
- 期待される動作
- 実際の動作

## 再現条件
- 環境
- 手順
- 入力データ
```

### 2. 情報収集

**エラー解析**
- スタックトレースの最初のエラー箇所
- エラーの種類（TypeError, ReferenceError 等）
- エラーメッセージの具体的内容

**コード確認**
- エラー箇所のコード
- 呼び出し元を遡る
- 関連する型定義

### 3. 仮説の立案（確率順）

| 優先度 | 仮説 | 確認方法 |
|--------|------|----------|
| 高 | [最有力] | [確認方法] |
| 中 | [次点] | [確認方法] |
| 低 | [その他] | [確認方法] |

### 4. 仮説の検証

- 最も可能性が高いものから
- 最も確認が容易なものから
- ログ追加、デバッガ、最小再現コード

### 5. 修正

- 根本原因を修正（症状を隠さない）
- テスト追加（再発防止）
- 同様のバグがないか確認

## よくあるパターン

| パターン | 対処 |
|----------|------|
| null/undefined | オプショナルチェーン `?.`、ガード節 |
| 型エラー | 型定義の不整合、暗黙の型変換 |
| 非同期エラー | await 欠落、Promise エラーハンドリング |
| 状態管理 | 状態の不整合、副作用の順序 |

## このスキルでできないこと
- CI エラーの修正（`/fix_ci` を使用）
- 新機能の実装（`/implement` を使用）
